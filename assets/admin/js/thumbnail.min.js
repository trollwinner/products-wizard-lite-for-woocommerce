function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){"use strict";var e="wcpwThumbnail",n="wcpw",i={},o=t(document),r=function(e,n){return this.element=e,this.options=t.extend({},i,n),this.init()};r.prototype.init=function(){return this.$element=t(this.element),this.$id=this.$element.find('[data-component~="'.concat(n,'-thumbnail-id"]')),this.$image=this.$element.find('[data-component~="'.concat(n,'-thumbnail-image"]')),this.initEventListeners()},r.prototype.initEventListeners=function(){var t=this;return this.$element.on("click",'[data-component~="'.concat(n,'-thumbnail-set"]'),(function(e){return e.preventDefault(),t.openModal()})),this.$element.on("click",'[data-component~="'.concat(n,'-thumbnail-remove"]'),(function(e){return e.preventDefault(),t.removeImage()})),this},r.prototype.openModal=function(){var t=this;return this.modalFrame?(this.modalFrame.open(),this):(this.modalFrame=wp.media.frames.downloadable_file=wp.media({title:"Select image",button:{text:"Select"},multiple:!1}),this.modalFrame.on("select",(function(){return t.modalFrame.state().get("selection").map((function(e){var i=e.toJSON();if(!i.id)return null;var o={}.hasOwnProperty.call(i,"sizes")&&{}.hasOwnProperty.call(i.sizes,"thumbnail")?i.sizes.thumbnail.url:i.url;return t.$image.html('<img src="'.concat(o,'">')),t.$id.val(i.id),t.$element.trigger("selected.thumbnail.".concat(n),[t,e]),e}))})),this.modalFrame.open())},r.prototype.removeImage=function(){return this.$image.html(""),this.$id.val(""),this.$element.trigger("removed.thumbnail.".concat(n),[this]),this},t.fn[e]=function(n){return this.each((function(){t.data(this,e)||t.data(this,e,new r(this,n))}))};var a=function(){return t('[data-component~="'.concat(n,'-thumbnail"]')).each((function(){return t(this).wcpwThumbnail()}))};o.ready((function(){return a()})),o.on("init.thumbnail.".concat(n),(function(){return a()}))}));